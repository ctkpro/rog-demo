<!DOCTYPE HTML>
<html>
	<head>
		<title>Opening</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" href="css/theme-update.css" />
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Teko:wght@300;400;500;600;700&display=swap" rel="stylesheet">
		<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.min.js'></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script>
	</head>
	<body class="opening">
		<div class="nav">
			<ul>
				<li>system1</li>
				<li>system2 Lorem ipsum dolor sit amet</li>
				<li>system3 Lorem ipsum</li>
				<li>system4</li>
				<li>system5 Lorem ipsum dolor</li>
				<li>system6 Lorem</li>
				<li>system7</li>
			</ul>
		</div>
		<section class="">
			<!-- <video  autoplay muted poster="https://static.playoverwatch.com/img/pages/hero-detail/staticposter-733c75265d.gif">
				<source src="../video/rog_short.mp4" type="video/mp4">
				Your browser does not support the video tag.
			</video> -->

			<svg>
				<defs>
					<pattern id="p" patternUnits="userSpaceOnUse" width="50" height="50">
						<rect width="50" height="50" stroke="#eee" fill="transparent" x="0" y="0"></rect>
					</pattern>
				</defs>
					<rect x='0' y='0' width="100%" height="100%" stroke="" fill="url(#p)" />
			</svg>

			<img src="img/rog-logo.svg" alt="" class="logo">
			
			<div class="progressbar">
				<div class="progressbar-inner"></div>
			</div>
			
			<video muted loop poster="https://static.playoverwatch.com/img/pages/hero-detail/staticposter-733c75265d.gif">
				<source src="video/bg_2.mp4" type="video/mp4">
				Your browser does not support the video tag.
			</video>

		</section>
		<footer>
			<div class="attribute-box">
				<p>system os</p>
				<p>FPS : 120/s</p>
				<p>lorem: rgeokad</p>
				<p>wfosdl: selvek</p>
				<p>ero3fii: w9943</p>
			</div>
		</footer>

		<script>

			let system_boxs = document.querySelectorAll('.system-box');
			let video = document.querySelector('video');

			let logo = document.querySelector('.logo');	
			let progress_bar = document.querySelector('.progressbar');

			function progress() {
				let bar = document.querySelector('.progressbar-inner');
				var rate = 1;
				var frameId = setInterval(frame, 20);
				function frame() {
					if (rate >= 100) {
						clearInterval(frameId);
					}else{
						rate_set = 1;
						if( rate > 80 ){
							rate_set = 0.5;
						}else if(rate > 50){
							rate_set = 2;
						} 
						rate+= rate_set;
						bar.style.width = rate + '%';
					}
				}
			}
			setTimeout(() => { progress();}, 1500);
			setTimeout(() => {
				logo.style.display = 'none';
				progress_bar.style.display = 'none';
			}, 4200);

			setTimeout(() => {
				video.style.opacity = 1;
				video.play();
			}, 4900);
		</script>
	</body>
</html>